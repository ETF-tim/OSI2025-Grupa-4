file(GLOB_RECURSE COMMON_SOURCES 
    CONFIGURE_DEPENDS
    "${CMAKE_CURRENT_SOURCE_DIR}/*.cpp"
)

if(COMMON_SOURCES)
    add_library(common_lib STATIC ${COMMON_SOURCES})
    
    target_include_directories(common_lib 
        PUBLIC 
            ${PROJECT_SOURCE_DIR}/include
    )
else()
    message(FATAL_ERROR "No .cpp files found in src/common/!")
endif()